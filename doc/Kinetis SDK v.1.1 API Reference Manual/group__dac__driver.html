<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Kinetis SDK v.1.1 API Reference Manual: DAC Peripheral Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.1 API Reference Manual
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__dac__driver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">DAC Peripheral Driver<div class="ingroups"><a class="el" href="group__dac.html">Digital-to-Analog Converter (DAC)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section describes the programming interface of the DAC Peripheral driver. The DAC peripheral driver configures the DAC (Digital-to-Analog Converter). It also handles the module initialization and configuration by converting attributes.</p>
<h1><a class="anchor" id="DACInit"></a>
DAC Initialization</h1>
<p>To initialize the DAC module, call the <a class="el" href="group__dac__driver.html#gaa42a450ad8cae5aefe9c21e48f9bac44" title="Initializes the converter. ">DAC_DRV_Init()</a> function and pass the configuration data structure, which can be filled by the <a class="el" href="group__dac__driver.html#ga6b4c8f1a43a87fee4539afe0c4badfdf" title="Populates the initial user configuration for the DAC module without interrupt and buffer features...">DAC_DRV_StructInitUserConfigNormal()</a> function with the default settings for the converter. After it is initialized, the DAC module can function as a DAC converter.</p>
<p>The DAC module provides advanced features internally with the hardware buffer. To use the advanced features, the API of the <a class="el" href="group__dac__driver.html#ga3e546def82ee3e01b37cfe2626c5ee35" title="Configures the internal buffer. ">DAC_DRV_EnableBuff()</a> function should be called to initialize the buffer.</p>
<h1><a class="anchor" id="DACDrMB"></a>
DAC Model building</h1>
<p>The DAC module provides advanced features with the hardware DAC buffer.</p>
<p>When the DAC is enabled and the buffer is not enabled, the DAC module always converts the data in DAT0, the first item in the buffer, to analog output voltage. If the buffer is enabled, the DAC converts the items in the data buffer to analog output voltage according to the buffer configuration. The data buffer read pointer advances to the next word whenever any hardware or software trigger event occurs. The data buffer can be configured to operate in Normal mode, Swing mode, One-Time Scan mode or FIFO mode:</p>
<ul>
<li>Normal mode is the default mode for the buffer. The buffer works as a FIFO buffer. The read pointer increases once triggered. When the read pointer reaches the upper limit, it goes to zero during the next trigger event.</li>
<li>Swing mode is similar to the FIFO mode. However, when the read pointer reaches the upper limit, it does not go to zero. It will descend by 1 in the next trigger events until reach to zero, and then turns back.</li>
<li>One-time Scan mode. In One-time Scan mode, the read pointer increases by one once triggered. When it reaches the upper limit, it stops there. If read pointer is reset to the address other than the upper limit, it increases to the upper address and stops. If the software sets the read pointer to the upper limit, the read pointer does not advance in this mode. When the buffer operation is switched from one mode to another, the read pointer does not change.</li>
<li>FIFO mode. In FIFO mode, the buffer works like a ring FIFO. Some configurations are different from other mode for buffer. The buffer size in used would be set as the max value of it by hardware automatically. The previous upper index will be write pointer of the ring FIFO, while the previous read pointer points to the tail of the ring FIFO. When user pushes the data into FIFO, the write pointer increase. When user trigger the buffer to pop the data, the read pointer increases.</li>
</ul>
<h1><a class="anchor" id="DACClD"></a>
DAC Call diagram</h1>
<p>Four kinds of typical use cases are designed for the DAC module:</p>
<ul>
<li>Normal converter mode. Normal converter mode is working without the buffer and the trigger. It is the simplest way to use the DAC module.</li>
<li>Buffer Normal mode. Buffer Normal mode enables the internal buffer and sets it as normal ring buffer mode.</li>
<li>Buffer Swing mode. Buffer Swing mode enables the internal buffer and set it as Swing mode.</li>
<li>Buffer One-time Scan mode. One-time Scan buffer mode enables the internal buffer and sets it as One-time Scan mode.</li>
<li>Buffer FIFO mode. Buffer FIFO works enable the internal buffer and set it as FIFO mode.</li>
</ul>
<p>These use cases can function on the software trigger or hardware trigger. To use the hardware trigger, enable the hardware trigger setting in the DAC module. Then configure the other module that can generate the trigger, such as the PDB.</p>
<p>These are examples to initialize and configure the DAC driver for typical use cases:</p>
<p>Normal converter mode:</p>
<div class="fragment"><div class="line"><span class="comment">// dac_test_normal.c //</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_dac_driver.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_os_abstraction.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define DAC_TEST_BUFF_SIZE  (16U)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">volatile</span> uint32_t g_dacInstance = 0U;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> uint16_t g_dacBuffDat[DAC_TEST_BUFF_SIZE];</div>
<div class="line"></div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span> DAC_TEST_FillBuffDat(uint16_t *buffPtr, uint32_t buffLen);</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> DAC_TEST_NormalMode(uint32_t instance)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> MyDacUserConfigStruct;</div>
<div class="line">    uint8_t i;</div>
<div class="line"></div>
<div class="line">    g_dacInstance = instance;</div>
<div class="line">    <span class="comment">// Fill values into data buffer. //</span></div>
<div class="line">    DAC_TEST_FillBuffDat(g_dacBuffDat, DAC_TEST_BUFF_SIZE);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the structure with configuration of software trigger. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga6b4c8f1a43a87fee4539afe0c4badfdf">DAC_DRV_StructInitUserConfigNormal</a>(&amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Initialize the DAC Converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#gaa42a450ad8cae5aefe9c21e48f9bac44">DAC_DRV_Init</a>(instance, &amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Output the DAC value. //</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0U; i &lt; DAC_TEST_BUFF_SIZE; i++)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;DAC_DRV_Output: %d\r\n&quot;</span>, g_dacInstance[i]);</div>
<div class="line">        <a class="code" href="group__dac__driver.html#ga0591d1ff5dc401ecd0143984affef7d2">DAC_DRV_Output</a>(instance, g_dacInstance[i]);</div>
<div class="line">        <a class="code" href="group__os__abstraction.html#ga80ec77b248ae8f3d564727e0cb78eaee">OSA_TimeDelay</a>(200);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// De-initialize the DAC converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga172736f847e28bfade35ad7df15e5980">DAC_DRV_Deinit</a>(instance);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Buffer Normal mode:</p>
<div class="fragment"><div class="line"><span class="comment">// dac_test_buffer_normal.c //</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_dac_driver.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_os_abstraction.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define DAC_TEST_BUFF_SIZE  (16U)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">static</span> dac_state_t MyDacStateStructForBufferNormal;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffStart = 0U;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffUpper = 0U;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffWatermark = 0U;</div>
<div class="line"><span class="keyword">volatile</span> uint32_t g_dacInstance = 0U;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> uint16_t g_dacBuffDat[DAC_TEST_BUFF_SIZE];</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DAC_ISR_Buffer(<span class="keywordtype">void</span>);</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span> DAC_TEST_FillBuffDat(uint16_t *buffPtr, uint32_t buffLen);</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> DAC_TEST_BufferNormalMode(uint32_t instance)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> MyDacUserConfigStruct;</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__buff__config__t">dac_buff_config_t</a> MyDacBuffConfigStruct;</div>
<div class="line">    uint8_t i;</div>
<div class="line">    <span class="keyword">volatile</span> uint16_t dacValue;</div>
<div class="line"></div>
<div class="line">    g_dacInstance = instance;</div>
<div class="line">    <span class="comment">// Fill values into data buffer. //</span></div>
<div class="line">    DAC_TEST_FillBuffDat(g_dacBuffDat, DAC_TEST_BUFF_SIZE);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the structure with configuration of software trigger. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga6b4c8f1a43a87fee4539afe0c4badfdf">DAC_DRV_StructInitUserConfigNormal</a>(&amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Initialize the DAC Converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#gaa42a450ad8cae5aefe9c21e48f9bac44">DAC_DRV_Init</a>(instance, &amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Enable the feature of DAC internal buffer. //</span></div>
<div class="line">    MyDacBuffConfigStruct.buffIndexWatermarkIntEnable = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a644184bdad589d3afd9ecbe2ad877fad">buffIndexStartIntEnable</a> = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a4f3729ab8a0928cb0ade3056b0f90c59">buffIndexUpperIntEnable</a> = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a80b7313f9096fbd3314e232f3622a704">dmaEnable</a> = <span class="keyword">false</span>;</div>
<div class="line">    MyDacBuffConfigStruct.watermarkMode = <a class="code" href="group__dac__hal.html#ggab1660a96e9f979836b3efe7835b5f68ba5a346e793da6b1b526c0248c102a48d8">kDacBuffWatermarkFromUpperAs2Word</a>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a41b34ff390451c24835aafd6bad42bba">buffWorkMode</a> = <a class="code" href="group__dac__hal.html#ggafa6e3d2b94da438b66774e5756d964a2aa2997592c55b3dbf49753be4e65cee77">kDacBuffWorkAsNormalMode</a>;</div>
<div class="line">    MyDacBuffConfigStruct.buffUpperIndex = DAC_TEST_BUFF_SIZE - 1U;</div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga3e546def82ee3e01b37cfe2626c5ee35">DAC_DRV_EnableBuff</a>(instance, &amp;MyDacBuffConfigStruct, &amp;MyDacStateStructForBufferNormal);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the buffer with setting data. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga475e4157180857af1547e9669be062e4">DAC_DRV_SetBuffValue</a>(instance, 0U, DAC_TEST_BUFF_SIZE, g_dacBuffDat);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Register the callback function for DAC buffer event. //</span></div>
<div class="line">    DAC_DRV_InstallCallback(instance, DAC_ISR_Buffer);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Trigger the buffer to output setting value. //</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0U; i &lt; DAC_TEST_BUFF_SIZE*2U; i++)</div>
<div class="line">    {</div>
<div class="line">        dacValue = <a class="code" href="group__dac__driver.html#gac049f3c50568b89d8ba4bd6859095208">DAC_DRV_SoftTriggerBuff</a>(instance);</div>
<div class="line">        printf(<span class="stringliteral">&quot;DAC_DRV_SoftTriggerBuff: %d\r\n&quot;</span>, dacValue);</div>
<div class="line">        <a class="code" href="group__os__abstraction.html#ga80ec77b248ae8f3d564727e0cb78eaee">OSA_TimeDelay</a>(200);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Disable the feature of DAC internal buffer. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga10b5bcb826e0c588945bba9127b2d454">DAC_DRV_DisableBuff</a>(instance);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// De-initialize the DAC converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga172736f847e28bfade35ad7df15e5980">DAC_DRV_Deinit</a>(instance);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DAC_ISR_Buffer(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, <a class="code" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a6ce1b6207c27260dde23f605c73d627e">kDacBuffIndexStartFlag</a>) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffStart++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, kDacBuffIndexWatermarkFlag) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffWatermark++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, <a class="code" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a946acc6f2d3a38bdabefa98950e89f9a">kDacBuffIndexUpperFlag</a>) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffUpper++;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Buffer Swing mode:</p>
<div class="fragment"><div class="line"><span class="comment">// dac_test_buffer_swing.c //</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_dac_driver.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_os_abstraction.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define DAC_TEST_BUFF_SIZE  (16U)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">static</span> dac_state_t MyDacStateStructForBufferSwing;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffStart = 0U;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffUpper = 0U;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffWatermark = 0U;</div>
<div class="line"><span class="keyword">volatile</span> uint32_t g_dacInstance = 0U;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> uint16_t g_dacBuffDat[DAC_TEST_BUFF_SIZE];</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DAC_ISR_Buffer(<span class="keywordtype">void</span>);</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span> DAC_TEST_FillBuffDat(uint16_t *buffPtr, uint32_t buffLen);</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> DAC_TEST_BufferSwingMode(uint32_t instance)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> MyDacUserConfigStruct;</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__buff__config__t">dac_buff_config_t</a> MyDacBuffConfigStruct;</div>
<div class="line">    uint8_t i;</div>
<div class="line">    <span class="keyword">volatile</span> uint16_t dacValue;</div>
<div class="line"></div>
<div class="line">    g_dacInstance = instance;</div>
<div class="line">    <span class="comment">// Fill values into data buffer. //</span></div>
<div class="line">    DAC_TEST_FillBuffDat(g_dacBuffDat, DAC_TEST_BUFF_SIZE);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the structure with configuration of software trigger. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga6b4c8f1a43a87fee4539afe0c4badfdf">DAC_DRV_StructInitUserConfigNormal</a>(&amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Initialize the DAC Converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#gaa42a450ad8cae5aefe9c21e48f9bac44">DAC_DRV_Init</a>(instance, &amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Enable the feature of DAC internal buffer. //</span></div>
<div class="line">    MyDacBuffConfigStruct.buffIndexWatermarkIntEnable = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a644184bdad589d3afd9ecbe2ad877fad">buffIndexStartIntEnable</a> = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a4f3729ab8a0928cb0ade3056b0f90c59">buffIndexUpperIntEnable</a> = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a80b7313f9096fbd3314e232f3622a704">dmaEnable</a> = <span class="keyword">false</span>;</div>
<div class="line">    MyDacBuffConfigStruct.watermarkMode = <a class="code" href="group__dac__hal.html#ggab1660a96e9f979836b3efe7835b5f68ba5a346e793da6b1b526c0248c102a48d8">kDacBuffWatermarkFromUpperAs2Word</a>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a41b34ff390451c24835aafd6bad42bba">buffWorkMode</a> = kDacBuffWorkAsSwingMode;</div>
<div class="line">    MyDacBuffConfigStruct.buffUpperIndex = DAC_TEST_BUFF_SIZE - 1U;</div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga3e546def82ee3e01b37cfe2626c5ee35">DAC_DRV_EnableBuff</a>(instance, &amp;MyDacBuffConfigStruct, &amp;MyDacStateStructForBufferSwing);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the buffer with setting data. //</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; buffLen; i++)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__dac__driver.html#ga475e4157180857af1547e9669be062e4">DAC_DRV_SetBuffValue</a>(instance, 0U, DAC_TEST_BUFF_SIZE, g_dacBuffDat); </div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Register the callback function for DAC buffer event. //</span></div>
<div class="line">    DAC_DRV_InstallCallback(instance, DAC_ISR_Buffer);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Trigger the buffer to output setting value. //</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0U; i &lt; DAC_TEST_BUFF_SIZE*2U; i++)</div>
<div class="line">    {</div>
<div class="line">        dacValue = <a class="code" href="group__dac__driver.html#gac049f3c50568b89d8ba4bd6859095208">DAC_DRV_SoftTriggerBuff</a>(instance);</div>
<div class="line">        printf(<span class="stringliteral">&quot;DAC_DRV_SoftTriggerBuff: %d\r\n&quot;</span>, dacValue);</div>
<div class="line">        <a class="code" href="group__os__abstraction.html#ga80ec77b248ae8f3d564727e0cb78eaee">OSA_TimeDelay</a>(200);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Disable the feature of DAC internal buffer. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga10b5bcb826e0c588945bba9127b2d454">DAC_DRV_DisableBuff</a>(instance);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// De-initialize the DAC converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga172736f847e28bfade35ad7df15e5980">DAC_DRV_Deinit</a>(instance);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DAC_ISR_Buffer(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, <a class="code" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a6ce1b6207c27260dde23f605c73d627e">kDacBuffIndexStartFlag</a>) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffStart++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, kDacBuffIndexWatermarkFlag) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffWatermark++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, <a class="code" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a946acc6f2d3a38bdabefa98950e89f9a">kDacBuffIndexUpperFlag</a>) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffUpper++;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Buffer One-time Scan mode:</p>
<div class="fragment"><div class="line"><span class="comment">// dac_test_buffer_one_time_scan.c //</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#inlude &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_dac_driver.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_os_abstraction.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define DAC_TEST_BUFF_SIZE  (16U)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">static</span> dac_state_t MyDacStateStructForBufferOneTimeScan;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffStart = 0U;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffUpper = 0U;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffWatermark = 0U;</div>
<div class="line"><span class="keyword">volatile</span> uint32_t g_dacInstance = 0U;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> uint16_t g_dacBuffDat[DAC_TEST_BUFF_SIZE];</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DAC_ISR_Buffer(<span class="keywordtype">void</span>);</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span> DAC_TEST_FillBuffDat(uint16_t *buffPtr, uint32_t buffLen);</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> DAC_TEST_BufferOneTimeScanMode(uint32_t instance)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> MyDacUserConfigStruct;</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__buff__config__t">dac_buff_config_t</a> MyDacBuffConfigStruct;</div>
<div class="line">    uint8_t i;</div>
<div class="line">    <span class="keyword">volatile</span> uint16_t dacValue;</div>
<div class="line"></div>
<div class="line">    g_dacInstance = instance;</div>
<div class="line">    <span class="comment">// Fill values into data buffer. //</span></div>
<div class="line">    DAC_TEST_FillBuffDat(g_dacBuffDat, DAC_TEST_BUFF_SIZE);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the structure with configuration of software trigger. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga6b4c8f1a43a87fee4539afe0c4badfdf">DAC_DRV_StructInitUserConfigNormal</a>(&amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Initialize the DAC Converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#gaa42a450ad8cae5aefe9c21e48f9bac44">DAC_DRV_Init</a>(instance, &amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Enable the feature of DAC internal buffer. //</span></div>
<div class="line">    MyDacBuffConfigStruct.buffIndexWatermarkIntEnable = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a644184bdad589d3afd9ecbe2ad877fad">buffIndexStartIntEnable</a> = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a4f3729ab8a0928cb0ade3056b0f90c59">buffIndexUpperIntEnable</a> = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a80b7313f9096fbd3314e232f3622a704">dmaEnable</a> = <span class="keyword">false</span>;</div>
<div class="line">    MyDacBuffConfigStruct.watermarkMode = <a class="code" href="group__dac__hal.html#ggab1660a96e9f979836b3efe7835b5f68ba5a346e793da6b1b526c0248c102a48d8">kDacBuffWatermarkFromUpperAs2Word</a>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a41b34ff390451c24835aafd6bad42bba">buffWorkMode</a> = kDacBuffWorkAsOneTimeScanMode;</div>
<div class="line">    MyDacBuffConfigStruct.buffUpperIndex = DAC_TEST_BUFF_SIZE - 1U;</div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga3e546def82ee3e01b37cfe2626c5ee35">DAC_DRV_EnableBuff</a>(instance, &amp;MyDacBuffConfigStruct, &amp;MyDacStateStructForBufferOneTimeScan);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the buffer with setting data. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga475e4157180857af1547e9669be062e4">DAC_DRV_SetBuffValue</a>(instance, 0U, DAC_TEST_BUFF_SIZE, g_dacBuffDat);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Register the callback function for DAC buffer event. //</span></div>
<div class="line">    DAC_DRV_InstallCallback(instance, DAC_ISR_Buffer);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Trigger the buffer to output setting value. //</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0U; i &lt; DAC_TEST_BUFF_SIZE*2U; i++)</div>
<div class="line">    {</div>
<div class="line">        dacValue = <a class="code" href="group__dac__driver.html#gac049f3c50568b89d8ba4bd6859095208">DAC_DRV_SoftTriggerBuff</a>(instance);</div>
<div class="line">        printf(<span class="stringliteral">&quot;DAC_DRV_SoftTriggerBuff: %d\r\n&quot;</span>, dacValue);</div>
<div class="line">        <a class="code" href="group__os__abstraction.html#ga80ec77b248ae8f3d564727e0cb78eaee">OSA_TimeDelay</a>(200);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Disable the feature of DAC internal buffer. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga10b5bcb826e0c588945bba9127b2d454">DAC_DRV_DisableBuff</a>(instance);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// De-initialize the DAC converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga172736f847e28bfade35ad7df15e5980">DAC_DRV_Deinit</a>(instance);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DAC_ISR_Buffer(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, <a class="code" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a6ce1b6207c27260dde23f605c73d627e">kDacBuffIndexStartFlag</a>) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffStart++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, kDacBuffIndexWatermarkFlag) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffWatermark++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, <a class="code" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a946acc6f2d3a38bdabefa98950e89f9a">kDacBuffIndexUpperFlag</a>) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffUpper++;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Buffer FIFO mode:</p>
<div class="fragment"><div class="line"><span class="comment">// dac_test_buffer_fifo.c //</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_dac_driver.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;fsl_os_abstraction.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define DAC_TEST_BUFF_SIZE  (16U)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">static</span> dac_state_t MyDacStateStructForBufferFIFO;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffStart = 0U;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffUpper = 0U;</div>
<div class="line"><span class="keyword">static</span> uint32_t MyDacIsrCounterBuffWatermark = 0U;</div>
<div class="line"><span class="keyword">volatile</span> uint32_t g_dacInstance = 0U;</div>
<div class="line"><span class="keyword">volatile</span> uint32_t g_dacBuffIndex = 0U;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> uint16_t g_dacBuffDat[DAC_TEST_BUFF_SIZE];</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DAC_ISR_Buffer(<span class="keywordtype">void</span>);</div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span> DAC_TEST_FillBuffDat(uint16_t *buffPtr, uint32_t buffLen);</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> DAC_TEST_BufferFIFOMode(uint32_t instance)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> MyDacUserConfigStruct;</div>
<div class="line">    <a class="code" href="group__dac__driver.html#structdac__buff__config__t">dac_buff_config_t</a> MyDacBuffConfigStruct;</div>
<div class="line">    uint8_t i;</div>
<div class="line">    <span class="keyword">volatile</span> uint16_t dacValue;</div>
<div class="line"></div>
<div class="line">    g_dacInstance = instance;</div>
<div class="line">    <span class="comment">// Fill values into data buffer. //</span></div>
<div class="line">    DAC_TEST_FillBuffDat(g_dacBuffDat, DAC_TEST_BUFF_SIZE);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Fill the structure with configuration of software trigger. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga6b4c8f1a43a87fee4539afe0c4badfdf">DAC_DRV_StructInitUserConfigNormal</a>(&amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Initialize the DAC Converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#gaa42a450ad8cae5aefe9c21e48f9bac44">DAC_DRV_Init</a>(instance, &amp;MyDacUserConfigStruct);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Configure the feature of DAC internal buffer. //</span></div>
<div class="line">    MyDacBuffConfigStruct.buffIndexWatermarkIntEnable = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a644184bdad589d3afd9ecbe2ad877fad">buffIndexStartIntEnable</a> = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a4f3729ab8a0928cb0ade3056b0f90c59">buffIndexUpperIntEnable</a> = <span class="keyword">true</span>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a80b7313f9096fbd3314e232f3622a704">dmaEnable</a> = <span class="keyword">false</span>;</div>
<div class="line">    MyDacBuffConfigStruct.watermarkMode = <a class="code" href="group__dac__hal.html#ggab1660a96e9f979836b3efe7835b5f68ba5a346e793da6b1b526c0248c102a48d8">kDacBuffWatermarkFromUpperAs2Word</a>;</div>
<div class="line">    MyDacBuffConfigStruct.<a class="code" href="group__dac__driver.html#a41b34ff390451c24835aafd6bad42bba">buffWorkMode</a> = kDacBuffWorkAsFIFOMode;</div>
<div class="line">    MyDacBuffConfigStruct.buffUpperIndex = 0U; <span class="comment">// Write buffer pointer. //</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Note:</span></div>
<div class="line">    <span class="comment">// Since the FIFO buffer&#39;s interrupt flags can not be cleared by writing</span></div>
<div class="line">    <span class="comment">// the status register, application should fill the initial user-defined</span></div>
<div class="line">    <span class="comment">// callback function before enable the buffer as FIFO mode. After that,</span></div>
<div class="line">    <span class="comment">// user can use DAC_DRV_InstallCallback() to update callback function.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    MyDacStateStructForBufferFIFO.userCallbackFunc = DAC_ISR_Buffer;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Enable the DAC buffer. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga3e546def82ee3e01b37cfe2626c5ee35">DAC_DRV_EnableBuff</a>(instance, &amp;MyDacBuffConfigStruct, &amp;MyDacStateStructForBufferFIFO);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Trigger the buffer to output setting value. //</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0U; i &lt; DAC_TEST_BUFF_SIZE*2U; i++)</div>
<div class="line">    {</div>
<div class="line">        dacValue = <a class="code" href="group__dac__driver.html#gac049f3c50568b89d8ba4bd6859095208">DAC_DRV_SoftTriggerBuff</a>(instance);</div>
<div class="line">        printf(<span class="stringliteral">&quot;DAC_DRV_SoftTriggerBuff: %d\r\n&quot;</span>, dacValue);</div>
<div class="line">        <a class="code" href="group__os__abstraction.html#ga80ec77b248ae8f3d564727e0cb78eaee">OSA_TimeDelay</a>(200);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Disable the feature of DAC internal buffer. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga10b5bcb826e0c588945bba9127b2d454">DAC_DRV_DisableBuff</a>(instance);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// De-initialize the DAC converter. //</span></div>
<div class="line">    <a class="code" href="group__dac__driver.html#ga172736f847e28bfade35ad7df15e5980">DAC_DRV_Deinit</a>(instance);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> DAC_ISR_Buffer(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, <a class="code" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a6ce1b6207c27260dde23f605c73d627e">kDacBuffIndexStartFlag</a>) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffStart++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, kDacBuffIndexWatermarkFlag) )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// When the FIFO&#39;s data count is less then the watermark, it would be filled here automatically.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordflow">if</span> (g_dacBuffIndex &gt;= DAC_TEST_BUFF_SIZE)</div>
<div class="line">        {</div>
<div class="line">            g_dacBuffIndex = 0U;</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="group__dac__driver.html#ga475e4157180857af1547e9669be062e4">DAC_DRV_SetBuffValue</a>(g_dacInstance, 0U, 1U, &amp;g_dacBuffDat[g_dacBuffIndex++]);</div>
<div class="line">        MyDacIsrCounterBuffWatermark++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a>(g_dacInstance, <a class="code" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a946acc6f2d3a38bdabefa98950e89f9a">kDacBuffIndexUpperFlag</a>) )</div>
<div class="line">    {</div>
<div class="line">        MyDacIsrCounterBuffUpper++;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structdac__buff__config__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#structdac__buff__config__t">dac_buff_config_t</a></td></tr>
<tr class="memdesc:structdac__buff__config__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the configuration buffer structure inside the DAC module.  <a href="group__dac__driver.html#structdac__buff__config__t">More...</a><br/></td></tr>
<tr class="separator:structdac__buff__config__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structdac__user__config__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a></td></tr>
<tr class="memdesc:structdac__user__config__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the converted configuration structure.  <a href="group__dac__driver.html#structdac__user__config__t">More...</a><br/></td></tr>
<tr class="separator:structdac__user__config__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga46b23f2e7c98bb168b3054e56ba6ea56"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga46b23f2e7c98bb168b3054e56ba6ea56">dac_flag_t</a> { <br/>
&#160;&#160;<a class="el" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a6ce1b6207c27260dde23f605c73d627e">kDacBuffIndexStartFlag</a> = 1U, 
<br/>
&#160;&#160;<a class="el" href="group__dac__driver.html#gga46b23f2e7c98bb168b3054e56ba6ea56a946acc6f2d3a38bdabefa98950e89f9a">kDacBuffIndexUpperFlag</a> = 2U
<br/>
 }</td></tr>
<tr class="memdesc:ga46b23f2e7c98bb168b3054e56ba6ea56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the type of event flags.  <a href="group__dac__driver.html#ga46b23f2e7c98bb168b3054e56ba6ea56">More...</a><br/></td></tr>
<tr class="separator:ga46b23f2e7c98bb168b3054e56ba6ea56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6b4c8f1a43a87fee4539afe0c4badfdf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__dac__hal.html#ga48d16081f1ecddd960da4c00683f042e">dac_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga6b4c8f1a43a87fee4539afe0c4badfdf">DAC_DRV_StructInitUserConfigNormal</a> (<a class="el" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> *userConfigPtr)</td></tr>
<tr class="memdesc:ga6b4c8f1a43a87fee4539afe0c4badfdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populates the initial user configuration for the DAC module without interrupt and buffer features.  <a href="#ga6b4c8f1a43a87fee4539afe0c4badfdf">More...</a><br/></td></tr>
<tr class="separator:ga6b4c8f1a43a87fee4539afe0c4badfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa42a450ad8cae5aefe9c21e48f9bac44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__dac__hal.html#ga48d16081f1ecddd960da4c00683f042e">dac_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#gaa42a450ad8cae5aefe9c21e48f9bac44">DAC_DRV_Init</a> (uint32_t instance, <a class="el" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> *userConfigPtr)</td></tr>
<tr class="memdesc:gaa42a450ad8cae5aefe9c21e48f9bac44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the converter.  <a href="#gaa42a450ad8cae5aefe9c21e48f9bac44">More...</a><br/></td></tr>
<tr class="separator:gaa42a450ad8cae5aefe9c21e48f9bac44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga172736f847e28bfade35ad7df15e5980"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga172736f847e28bfade35ad7df15e5980">DAC_DRV_Deinit</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga172736f847e28bfade35ad7df15e5980"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-initializes the DAC module converter.  <a href="#ga172736f847e28bfade35ad7df15e5980">More...</a><br/></td></tr>
<tr class="separator:ga172736f847e28bfade35ad7df15e5980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0591d1ff5dc401ecd0143984affef7d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga0591d1ff5dc401ecd0143984affef7d2">DAC_DRV_Output</a> (uint32_t instance, uint16_t value)</td></tr>
<tr class="memdesc:ga0591d1ff5dc401ecd0143984affef7d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drives the converter to output the DAC value.  <a href="#ga0591d1ff5dc401ecd0143984affef7d2">More...</a><br/></td></tr>
<tr class="separator:ga0591d1ff5dc401ecd0143984affef7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e546def82ee3e01b37cfe2626c5ee35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__dac__hal.html#ga48d16081f1ecddd960da4c00683f042e">dac_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga3e546def82ee3e01b37cfe2626c5ee35">DAC_DRV_EnableBuff</a> (uint32_t instance, <a class="el" href="group__dac__driver.html#structdac__buff__config__t">dac_buff_config_t</a> *buffConfigPtr)</td></tr>
<tr class="memdesc:ga3e546def82ee3e01b37cfe2626c5ee35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the internal buffer.  <a href="#ga3e546def82ee3e01b37cfe2626c5ee35">More...</a><br/></td></tr>
<tr class="separator:ga3e546def82ee3e01b37cfe2626c5ee35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10b5bcb826e0c588945bba9127b2d454"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga10b5bcb826e0c588945bba9127b2d454">DAC_DRV_DisableBuff</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga10b5bcb826e0c588945bba9127b2d454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the internal buffer.  <a href="#ga10b5bcb826e0c588945bba9127b2d454">More...</a><br/></td></tr>
<tr class="separator:ga10b5bcb826e0c588945bba9127b2d454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga475e4157180857af1547e9669be062e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__dac__hal.html#ga48d16081f1ecddd960da4c00683f042e">dac_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga475e4157180857af1547e9669be062e4">DAC_DRV_SetBuffValue</a> (uint32_t instance, uint8_t start, uint8_t offset, uint16_t arr[])</td></tr>
<tr class="memdesc:ga475e4157180857af1547e9669be062e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets values into the DAC internal buffer.  <a href="#ga475e4157180857af1547e9669be062e4">More...</a><br/></td></tr>
<tr class="separator:ga475e4157180857af1547e9669be062e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac049f3c50568b89d8ba4bd6859095208"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#gac049f3c50568b89d8ba4bd6859095208">DAC_DRV_SoftTriggerBuff</a> (uint32_t instance)</td></tr>
<tr class="memdesc:gac049f3c50568b89d8ba4bd6859095208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers the buffer by software and returns the current value.  <a href="#gac049f3c50568b89d8ba4bd6859095208">More...</a><br/></td></tr>
<tr class="separator:gac049f3c50568b89d8ba4bd6859095208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51552d728cb045aafd9c16626345c9da"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga51552d728cb045aafd9c16626345c9da">DAC_DRV_GetBufferIndex</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga51552d728cb045aafd9c16626345c9da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the DAC buffer current index.  <a href="#ga51552d728cb045aafd9c16626345c9da">More...</a><br/></td></tr>
<tr class="separator:ga51552d728cb045aafd9c16626345c9da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a58528e02aace2c42ae1c6f61f74aec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga1a58528e02aace2c42ae1c6f61f74aec">DAC_DRV_ClearFlag</a> (uint32_t instance, <a class="el" href="group__dac__driver.html#ga46b23f2e7c98bb168b3054e56ba6ea56">dac_flag_t</a> flag)</td></tr>
<tr class="memdesc:ga1a58528e02aace2c42ae1c6f61f74aec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the flag for an indicated event causing an interrupt.  <a href="#ga1a58528e02aace2c42ae1c6f61f74aec">More...</a><br/></td></tr>
<tr class="separator:ga1a58528e02aace2c42ae1c6f61f74aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f01ae2eb086c86f685a837575d1a3d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga9f01ae2eb086c86f685a837575d1a3d0">DAC_DRV_GetFlag</a> (uint32_t instance, <a class="el" href="group__dac__driver.html#ga46b23f2e7c98bb168b3054e56ba6ea56">dac_flag_t</a> flag)</td></tr>
<tr class="memdesc:ga9f01ae2eb086c86f685a837575d1a3d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag for an indicated event causing an interrupt.  <a href="#ga9f01ae2eb086c86f685a837575d1a3d0">More...</a><br/></td></tr>
<tr class="separator:ga9f01ae2eb086c86f685a837575d1a3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga94c8b7718cbeaf1f8ff40b9a459cd6b1"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga94c8b7718cbeaf1f8ff40b9a459cd6b1">g_dacBaseAddr</a> []</td></tr>
<tr class="memdesc:ga94c8b7718cbeaf1f8ff40b9a459cd6b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table of base addresses for DAC instances.  <a href="#ga94c8b7718cbeaf1f8ff40b9a459cd6b1">More...</a><br/></td></tr>
<tr class="separator:ga94c8b7718cbeaf1f8ff40b9a459cd6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ee5160ea065e1a171e5098d06883212"><td class="memItemLeft" align="right" valign="top">const IRQn_Type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#ga3ee5160ea065e1a171e5098d06883212">g_dacIrqId</a> [HW_DAC_INSTANCE_COUNT]</td></tr>
<tr class="memdesc:ga3ee5160ea065e1a171e5098d06883212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table to save DAC IRQ enumeration numbers defined in the CMSIS header file.  <a href="#ga3ee5160ea065e1a171e5098d06883212">More...</a><br/></td></tr>
<tr class="separator:ga3ee5160ea065e1a171e5098d06883212"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structdac__buff__config__t" id="structdac__buff__config__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dac_buff_config_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This structure holds the configuration for the internal buffer inside the DAC module. The DAC buffer is an advanced feature, which helps improve the performance of an application. </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:a644184bdad589d3afd9ecbe2ad877fad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#a644184bdad589d3afd9ecbe2ad877fad">buffIndexStartIntEnable</a></td></tr>
<tr class="memdesc:a644184bdad589d3afd9ecbe2ad877fad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switcher to enable interrupt when buffer index hits the start (0).  <a href="#a644184bdad589d3afd9ecbe2ad877fad">More...</a><br/></td></tr>
<tr class="separator:a644184bdad589d3afd9ecbe2ad877fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3729ab8a0928cb0ade3056b0f90c59"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#a4f3729ab8a0928cb0ade3056b0f90c59">buffIndexUpperIntEnable</a></td></tr>
<tr class="memdesc:a4f3729ab8a0928cb0ade3056b0f90c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switcher to enable interrupt when buffer index hits the upper.  <a href="#a4f3729ab8a0928cb0ade3056b0f90c59">More...</a><br/></td></tr>
<tr class="separator:a4f3729ab8a0928cb0ade3056b0f90c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b7313f9096fbd3314e232f3622a704"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#a80b7313f9096fbd3314e232f3622a704">dmaEnable</a></td></tr>
<tr class="memdesc:a80b7313f9096fbd3314e232f3622a704"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switcher to enable DMA request by original interrupts.  <a href="#a80b7313f9096fbd3314e232f3622a704">More...</a><br/></td></tr>
<tr class="separator:a80b7313f9096fbd3314e232f3622a704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b34ff390451c24835aafd6bad42bba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__dac__hal.html#gafa6e3d2b94da438b66774e5756d964a2">dac_buff_work_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#a41b34ff390451c24835aafd6bad42bba">buffWorkMode</a></td></tr>
<tr class="memdesc:a41b34ff390451c24835aafd6bad42bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selection of buffer's work mode.  <a href="#a41b34ff390451c24835aafd6bad42bba">More...</a><br/></td></tr>
<tr class="separator:a41b34ff390451c24835aafd6bad42bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1e1977eef8b6de369c2ef857e166f4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1e1977eef8b6de369c2ef857e166f4a"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>buffUpperIndex</b></td></tr>
<tr class="separator:af1e1977eef8b6de369c2ef857e166f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="a644184bdad589d3afd9ecbe2ad877fad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dac_buff_config_t::buffIndexStartIntEnable</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f3729ab8a0928cb0ade3056b0f90c59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dac_buff_config_t::buffIndexUpperIntEnable</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a80b7313f9096fbd3314e232f3622a704"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dac_buff_config_t::dmaEnable</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a41b34ff390451c24835aafd6bad42bba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__dac__hal.html#gafa6e3d2b94da438b66774e5756d964a2">dac_buff_work_mode_t</a> dac_buff_config_t::buffWorkMode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>See "dac_buff_work_mode_t". </p>

</div>
</div>

</div>
</div>
<a name="structdac__user__config__t" id="structdac__user__config__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dac_user_config_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This structure holds the configuration for DAC module basic converter. The DAC converter is the core part of the DAC module. When initialized, the DAC module can act as a simple DAC converter. </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:a8215c09f9261b0792163c78a79d6c0c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__dac__hal.html#gada1092ae6bd28fbd661efb82e22f82fa">dac_ref_volt_src_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#a8215c09f9261b0792163c78a79d6c0c0">refVoltSrcMode</a></td></tr>
<tr class="memdesc:a8215c09f9261b0792163c78a79d6c0c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selection of reference voltage source for DAC module.  <a href="#a8215c09f9261b0792163c78a79d6c0c0">More...</a><br/></td></tr>
<tr class="separator:a8215c09f9261b0792163c78a79d6c0c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec0b1de372136c4d30af631c29c8c5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__dac__hal.html#gaa8a69135bac8ad1c692f5bb2de99a692">dac_trigger_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#a8ec0b1de372136c4d30af631c29c8c5c">triggerMode</a></td></tr>
<tr class="memdesc:a8ec0b1de372136c4d30af631c29c8c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selection of hardware mode or software mode.  <a href="#a8ec0b1de372136c4d30af631c29c8c5c">More...</a><br/></td></tr>
<tr class="separator:a8ec0b1de372136c4d30af631c29c8c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a737657045a21e706051167c417635d41"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dac__driver.html#a737657045a21e706051167c417635d41">lowPowerEnable</a></td></tr>
<tr class="memdesc:a737657045a21e706051167c417635d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switcher to enable working in low power mode.  <a href="#a737657045a21e706051167c417635d41">More...</a><br/></td></tr>
<tr class="separator:a737657045a21e706051167c417635d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="a8215c09f9261b0792163c78a79d6c0c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__dac__hal.html#gada1092ae6bd28fbd661efb82e22f82fa">dac_ref_volt_src_mode_t</a> dac_user_config_t::refVoltSrcMode</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8ec0b1de372136c4d30af631c29c8c5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__dac__hal.html#gaa8a69135bac8ad1c692f5bb2de99a692">dac_trigger_mode_t</a> dac_user_config_t::triggerMode</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a737657045a21e706051167c417635d41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dac_user_config_t::lowPowerEnable</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga46b23f2e7c98bb168b3054e56ba6ea56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__dac__driver.html#ga46b23f2e7c98bb168b3054e56ba6ea56">dac_flag_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga46b23f2e7c98bb168b3054e56ba6ea56a6ce1b6207c27260dde23f605c73d627e"></a>kDacBuffIndexStartFlag</em>&nbsp;</td><td class="fielddoc">
<p>Event for the buffer index hit the start (0). </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga46b23f2e7c98bb168b3054e56ba6ea56a946acc6f2d3a38bdabefa98950e89f9a"></a>kDacBuffIndexUpperFlag</em>&nbsp;</td><td class="fielddoc">
<p>Event for the buffer index hit the upper. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga6b4c8f1a43a87fee4539afe0c4badfdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__dac__hal.html#ga48d16081f1ecddd960da4c00683f042e">dac_status_t</a> DAC_DRV_StructInitUserConfigNormal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> *&#160;</td>
          <td class="paramname"><em>userConfigPtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function populates the initial user configuration without interrupt and buffer features. Calling the initialization function with the populated parameter configures the DAC module to operate as a simple converter. The settings are:<br/>
 </p>
<ul>
<li>.refVoltSrcMode = kDacRefVoltSrcOfVref2; // Vdda </li>
<li>.triggerMode = kDacTriggerBySoftware; </li>
<li>.lowPowerEnable = false;</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userConfigPtr</td><td>Pointer to the user configuration structure. See the "dac_user_config_t". </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Execution status. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa42a450ad8cae5aefe9c21e48f9bac44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__dac__hal.html#ga48d16081f1ecddd960da4c00683f042e">dac_status_t</a> DAC_DRV_Init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__dac__driver.html#structdac__user__config__t">dac_user_config_t</a> *&#160;</td>
          <td class="paramname"><em>userConfigPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes the converter. It configures the DAC converter itself but does not include the advanced features, such as interrupt and internal buffer. This API should be called before any operations in the DAC module. After it is initialized, the DAC module can function as a simple DAC converter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
    <tr><td class="paramname">userConfigPtr</td><td>Pointer to the initialization structure. See the "dac_user_config_t". </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Execution status. </dd></dl>

</div>
</div>
<a class="anchor" id="ga172736f847e28bfade35ad7df15e5980"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DAC_DRV_Deinit </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function de-initializes the converter. It disables the DAC module and shuts down the clock to reduce the power consumption.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0591d1ff5dc401ecd0143984affef7d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DAC_DRV_Output </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function drives the converter to output the DAC value. It forces the buffer index to be the first one and load the setting value to this item. Then, the converter outputs the voltage indicated by the indicated value immediately.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
    <tr><td class="paramname">value</td><td>Setting value for DAC. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3e546def82ee3e01b37cfe2626c5ee35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__dac__hal.html#ga48d16081f1ecddd960da4c00683f042e">dac_status_t</a> DAC_DRV_EnableBuff </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__dac__driver.html#structdac__buff__config__t">dac_buff_config_t</a> *&#160;</td>
          <td class="paramname"><em>buffConfigPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function configures the feature of the internal buffer for the DAC module. By default, the buffer feature is disabled. Calling this API enables the buffer and configures it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
    <tr><td class="paramname">buffConfigPtr</td><td>Pointer to the configuration structure. See the "dac_buff_config_t". </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Execution status. </dd></dl>

</div>
</div>
<a class="anchor" id="ga10b5bcb826e0c588945bba9127b2d454"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DAC_DRV_DisableBuff </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function disables the internal buffer feature. Calling this API disables the internal buffer feature and resets the DAC module as a simple DAC converter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga475e4157180857af1547e9669be062e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__dac__hal.html#ga48d16081f1ecddd960da4c00683f042e">dac_status_t</a> DAC_DRV_SetBuffValue </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>arr</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets values into the DAC internal buffer. Note that the buffer size is defined by the "FSL_FEATURE_DAC_BUFFER_SIZE" macro and the available value is 12 bit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
    <tr><td class="paramname">start</td><td>Start index of setting values. </td></tr>
    <tr><td class="paramname">offset</td><td>Length of setting values' array. </td></tr>
    <tr><td class="paramname">arr</td><td>Setting values' array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Execution status. </dd></dl>

</div>
</div>
<a class="anchor" id="gac049f3c50568b89d8ba4bd6859095208"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t DAC_DRV_SoftTriggerBuff </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function triggers the buffer by software and returns the current value. After it is triggered, the buffer index updates according to work mode. Then, the value kept inside the pointed item is immediately output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current output value. </dd></dl>

</div>
</div>
<a class="anchor" id="ga51552d728cb045aafd9c16626345c9da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t DAC_DRV_GetBufferIndex </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the DAC buffer current index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current index of DAC buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1a58528e02aace2c42ae1c6f61f74aec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DAC_DRV_ClearFlag </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__dac__driver.html#ga46b23f2e7c98bb168b3054e56ba6ea56">dac_flag_t</a>&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function clears the flag for an indicated event causing an interrupt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
    <tr><td class="paramname">flag</td><td>Indicated flag. See "dac_flag_t". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9f01ae2eb086c86f685a837575d1a3d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DAC_DRV_GetFlag </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__dac__driver.html#ga46b23f2e7c98bb168b3054e56ba6ea56">dac_flag_t</a>&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets the flag for an indicated event causing an interrupt. If the event occurs, the return value is asserted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>DAC instance ID. </td></tr>
    <tr><td class="paramname">flag</td><td>Indicated flag. See "dac_flag_t". </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Assertion of indicated event. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga94c8b7718cbeaf1f8ff40b9a459cd6b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t g_dacBaseAddr[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga3ee5160ea065e1a171e5098d06883212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const IRQn_Type g_dacIrqId[HW_DAC_INSTANCE_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Fri Dec 12 2014 &copy; 2014 Freescale Semiconductor, Inc. All rights reserved. 
    </li>
  </ul>
</div>
</body>
</html>
