<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Kinetis SDK v.1.2 Demo Applications User&#39;s Guide: BLDC Sensorless Demo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.2 Demo Applications User&#39;s Guide
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Demos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__bldc__demo.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BLDC Sensorless Demo</div>  </div>
</div><!--header-->
<div class="contents">
<p>This demo application demonstrates the software portion (hardware/chip independent) of the 16-bit implementation of a sensorless three phase brushless DC (BLDC) motor control application. The demo supports both IAR and KEIL versions.</p>
<h1><a class="anchor" id="Ovw"></a>
Overview</h1>
<p>The BLDC sensorless Control Demo project is a demonstration program that uses the KSDK software. The application software uses the concept of an isolated algorithm software and hardware. This software approach enables easy porting of an application to other devices or platforms. The application software is divided in two sections: </p>
<ul>
<li>
BLDC motor control algorithm process input variables to output variables and flags. </li>
<li>
MKV10x hardware and microprocessor serves as a bridge between hardware peripheral modules and BLDC motor control software algorithm. </li>
</ul>
<h1><a class="anchor" id="SP"></a>
Supported Platforms</h1>
<p>This Tower System module is supported by the Kinetis software development kit.</p>
<ul>
<li>TWR-KV10Z32</li>
</ul>
<h1><a class="anchor" id="SR"></a>
System Requirement</h1>
<h2><a class="anchor" id="HwR"></a>
Hardware requirements</h2>
<ul>
<li>J-Link ARM</li>
<li>P&amp;E Micro Multi-link universal</li>
<li>Mini/micro USB cable</li>
<li>USB A to micro AB cable</li>
<li>Hardware (tower/base board, ...) for specific device</li>
<li>Personal Computer</li>
</ul>
<h2><a class="anchor" id="ToR"></a>
Toolchain requirements</h2>
<ul>
<li>IAR embedded Workbench version 7.30.4</li>
<li>ARM GCC 4.8.3 2014q3</li>
<li>Keil MDK 5.13</li>
<li>Kinetis Design Studio IDE v.2.5.0</li>
<li>Atollic TrueSTUDIO for ARM win32 v5.2.1</li>
</ul>
<h2><a class="anchor" id="SDKReq"></a>
Software requirements</h2>
<ul>
<li>The project files are in: &lt;SDK_Install&gt;/examples/&lt;board&gt;/demo_apps/bldc_demo/&lt;toolchain&gt;.</li>
<li>Library dependencies: ksdk_platform_lib</li>
</ul>
<h1><a class="anchor" id="GS"></a>
Getting Started</h1>
<p>This table lists the FTM channels and MCU pins and corresponding LEDs for this demo application. This table also lists which connections should be made (if any) to ensure proper demo operation.</p>
<ol type="1">
<li>TWR‐MC‐LV3PH jumper settings <div> <table class="doxtable">
<tr>
<th rowspan="1">jumper </th><th rowspan="1">position  </th></tr>
<tr>
<th rowspan="1">J2 </th><td align="center">1-2  </td></tr>
<tr>
<th rowspan="1">J3 </th><td align="center">1-2  </td></tr>
<tr>
<th rowspan="1">J10 </th><td align="center">2-3  </td></tr>
<tr>
<th rowspan="1">J11 </th><td align="center">2-3  </td></tr>
<tr>
<th rowspan="1">J12 </th><td align="center">2-3  </td></tr>
<tr>
<th rowspan="1">J13 </th><td align="center">2-3  </td></tr>
<tr>
<th rowspan="1">J14 </th><td align="center">1-2  </td></tr>
</table>
</div></li>
<li>TWR-KV10Z32 jumper settings</li>
</ol>
<div> <table class="doxtable">
<tr>
<th rowspan="1">jumper </th><th rowspan="1">position </th><th rowspan="1">jumper </th><th rowspan="1">position </th><th rowspan="1">jumper </th><th rowspan="1">position  </th></tr>
<tr>
<th rowspan="1">J1 </th><td align="center">2-3 </td><th rowspan="1">J10 </th><td align="center">1-2 </td><th rowspan="1">J21 </th><td align="center">3-4  </td></tr>
<tr>
<th rowspan="1">J2 </th><td align="center">short </td><th rowspan="1">J11 </th><td align="center">open </td><th rowspan="1">J22 </th><td align="center">3-4  </td></tr>
<tr>
<th rowspan="1">J3 </th><td align="center">2-3 </td><th rowspan="1">J12 </th><td align="center">open </td><th rowspan="1">J25 </th><td align="center">open  </td></tr>
<tr>
<th rowspan="1">J4 </th><td align="center">short </td><th rowspan="1">J13 </th><td align="center">open </td><th rowspan="1">J26 </th><td align="center">short  </td></tr>
<tr>
<th rowspan="1">J5 </th><td align="center">short </td><th rowspan="1">J14 </th><td align="center">open </td><th rowspan="1">J27 </th><td align="center">short  </td></tr>
<tr>
<th rowspan="1">J7 </th><td align="center">1-2 </td><th rowspan="1">J18 </th><td align="center">2-3 </td><th rowspan="1">J28 </th><td align="center">short  </td></tr>
<tr>
<th rowspan="1">J8 </th><td align="center">1-2 </td><th rowspan="1">J19 </th><td align="center">2-3 </td><th rowspan="1">J29 </th><td align="center">1-2  </td></tr>
<tr>
<th rowspan="1">J9 </th><td align="center">1-2 </td><th rowspan="1">J20 </th><td align="center">1-2 </td><th rowspan="1">&ndash; </th><td align="center">&ndash;  </td></tr>
</table>
</div><ol type="1">
<li>Connect a USB cable between the PC host and the OpenSDA USB port on the board.</li>
</ol>
<p>Note that, because of board limitations, if the power is not supplied to OpenSDA, the KV10 reset pin is in low level.</p>
<h2><a class="anchor" id="PtD"></a>
Prepare the Demo</h2>
<ol type="1">
<li>Connect a USB cable between the PC host and the OpenSDA USB port on the board.</li>
<li>Open a serial terminal with these settings:<ul>
<li>115200 baud rate</li>
<li>8 data bits</li>
<li>No parity</li>
<li>One stop bit</li>
<li>No flow control</li>
</ul>
</li>
<li>Download the program to the target board.</li>
<li>Connect three phases of the BLDC motor to J5 in the TWR‐MC‐LV3PH board.</li>
<li>Supply 24 V digital power to J1 in the TWR‐MC‐LV3PH board.</li>
<li>Either press the reset button on your board or launch the debugger in the IDE to start running the demo.</li>
</ol>
<p>For detailed instructions, see the appropriate board User's Guide.</p>
<h2><a class="anchor" id="RtD"></a>
Run the demo</h2>
<p>The application can be controlled using one interface:</p>
<p>• Up / Down buttons on the TWR-KV10Z32 board</p>
<ol>
<li>
After the power supply is plugged into the TWR-MC-LV3PH, the motor is ready to run. </li>
<li>
Press the reset button on the development board. </li>
<li>
Pressing the Up button (SW1) increases the speed by 500 RPM. The motor starts rotating in the clockwise direction if it is not spinning, or decreases speed if the direction of the rotation is counter-clockwise.  </li>
<li>
Pressing the Down button (SW2) decreases the speed by 500 RPM. The motor starts rotating in the counter-clockwise direction if it is not spinning, or decreases speed if the direction of the rotation is clockwise. </li>
<li>
Pressing the buttons beyond this point increases or decreases the required speed within the speed limit -5000 to 5000 RPM. </li>
<li>
If both buttons are pressed for more than 2 seconds, the demonstration mode is switched on (or demonstration mode is switched off if it is on) </li>
</ol>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Mon Apr 27 2015 &copy; 2015 Freescale Semiconductor, Inc. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
